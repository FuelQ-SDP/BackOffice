<div class="p-4">
    <span class="flex justify-between">
        <span class="flex space-x-3">
            <mat-icon class="mr-2">supervisor_account</mat-icon>
            <h3 class="!font-bold">Registered Customers</h3>
        </span>
    </span>

    <mat-divider class="!mb-3"></mat-divider>

    <mat-form-field appearance="fill" class="w-1/2">
        <mat-label>Search By NIC</mat-label>
        <input matInput placeholder="NIC" (keyup)="searchByCustomerNIC()" [(ngModel)]="searchedKeys" />
    </mat-form-field>

    <div class="w-full h-[500px] overflow-y-scroll flex flex-col space-y-2" *ngIf="!isSearched && customers.length > 0">
        <span *ngFor="let customer of customers; let i = index">
            <span class="flex items-center space-x-2">
                <span class="font-medium text-sm">{{ i + 1 }}.</span>
                <span class="w-full border border-grey-4 rounded p-4 flex justify-between cursor-pointer hover:bg-gray-100 hover:border-gray-400" (click)="navigateToCustomerProfile(customer)">
                    <span class="w-6/7 flex items-center space-x-3">
                        <span class="text-sm font-medium">{{ customer.firstName + " " + customer.lastName }}</span>
                        <span class="flex justify-start items-center border-l border-l-grey-4 pl-2">
                            <span class="text-sm">NIC : <span class="font-medium">{{ customer.nic }}</span></span>
                        </span>
                        <span class="flex justify-start items-center border-l border-l-grey-4 pl-2">
                            <span class="text-sm">T.P : <span class="font-medium">{{ customer.mobileNo }}</span></span>
                        </span>
                    </span>
                    <span class="w-1/7 flex justify-end items-center">
                        <span class="text-xs font-medium text-green-800 border border-green-800 rounded p-1">Registered</span>
                    </span>
                </span>
            </span>
        </span>
    </div> 
    <span class="w-full h-[200px] flex justify-center items-center" *ngIf="!isSearched && customers.length == 0">
        <span class="font-medium text-grey-4 text-base">No registered customers to view.</span>
    </span>
    
    <div class="w-full h-[500px] overflow-y-scroll flex flex-col space-y-2" *ngIf="isSearched && searchedResults.length > 0">
        <span *ngFor="let customer of searchedResults; let i = index">
            <span class="flex items-center space-x-2">
                <span class="font-medium text-sm">{{ i + 1 }}.</span>
                <span class="w-full border border-grey-4 rounded p-4 flex justify-between cursor-pointer hover:bg-gray-100 hover:border-gray-400" (click)="navigateToCustomerProfile(customer)">
                    <span class="w-6/7 flex items-center space-x-3">
                        <span class="text-sm font-medium">{{ customer.firstName + " " + customer.lastName }}</span>
                        <span class="flex justify-start items-center border-l border-l-grey-4 pl-2">
                            <span class="text-sm">NIC : <span class="font-medium">{{ customer.nic }}</span></span>
                        </span>
                        <span class="flex justify-start items-center border-l border-l-grey-4 pl-2">
                            <span class="text-sm">T.P : <span class="font-medium">{{ customer.mobileNo }}</span></span>
                        </span>
                    </span>
                    <span class="w-1/7 flex justify-end items-center">
                        <span class="text-xs font-medium text-green-800 border border-green-800 rounded p-1">Registered</span>
                    </span>
                </span>
            </span>
        </span>
    </div> 
    <span class="w-full h-[200px] flex justify-center items-center" *ngIf="isSearched && searchedResults.length == 0">
        <span class="font-medium text-grey-4 text-base">No searched results to view.</span>
    </span>
</div>
